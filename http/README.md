# HTTP



| HTTP 版本  | RFC发布时间            | RFC 文档                   | 说明                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| -------- | ------------------ | ------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| HTTP 0.9 | 1991(无RFC)         | -                        | 于1989年创造,1991年命名为 0.9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| HTTP 1.0 | 1996.05            | RFC 1945                 | 支持 GET/HEAD/POST 三种方法                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
| HTTP 1.1 | 1997.01            | RFC 2068                 | 新增 OPTIONS/PUT/DELETE/TRACE 四种方法<br>支持 pipeline 技术<br>支持 持久化链接(即 Connection: keep-alive)<br>新增 响应码100,用于服务端告知客户端是否允许上传 请求体                                                                                                                                                                                                                                                                                                                                                                                                        |
| HTTP 2.0 | 2015.05<br>2022.06 | RCF 7540(过时)<br>RFC 9113 | **多路复用**:HTTP/1.1 依次加载各个资源，因此，如果无法加载某一资源，它将阻碍其后的所有其他资源。相比之下，HTTP/2 可以使用单个 TCP 连接来一次发送多个数据流，使得任何资源都不会会阻碍其他资源。为此，HTTP/2 将数据拆分为二进制代码消息并为这些消息编号，以便客户端知道每个二进制消息所属的流。<br>**服务器推送**:通常，服务器仅在客户端要求时才向客户端设备提供内容。但是，这种方法并不总是适用于现代网页，因为现代网页通常涉及客户端必须请求的数十个独立资源。HTTP/2 通过允许服务器在客户端请求之前向客户端“推送”内容来解决此问题。服务器还发送一条消息，让客户知道预期推送的内容是什么。<br>**标头压缩**:小文件的加载速度比大文件快。为了提高 Web 性能，HTTP/1.1 和 HTTP/2 都会压缩 HTTP 消息以使其更小。但是，HTTP/2 使用一种称为 HPACK 的更高级压缩方法，可以消除 HTTP 标头数据包中的多余信息。这样可以从每个 HTTP 数据包中消除几个字节。考虑到即使只加载一个网页时所涉及的 HTTP 数据包的数量，这些字节会迅速累加，从而加快了加载速度。 |
| HTTP 3.0 | 未正式发布RFC           | RFC 9114                 |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |

> https://zhuanlan.zhihu.com/p/112010468



## http的状态码301和302有什么区别

- 301状态码是`永久`重定向(Moved Permanently)，表示所请求的资源已经永久地转移到新的位置，这包含域名的改变或者是资源路径的改变。
- 302状态码是`临时`重定向(Move  Temporarily)，表示所请求的资源临时地转移到新的位置，一般是24到48小时以内的转移会用到302。

### 对用户影响

通常对用户来说是没有影响, 301 的情况应该提醒用户收藏新的URL

> 用户收藏网站收藏的是URL,即资源位置。当网站原资源路径发生改变时，如果不进行重定向操作，当用户再次访问收藏的资源时，由于原位置已经改变不存在，那么服务器只会给用户返回404，这是不应该发生的。
> 因此出现了重定向操作，即当用户访问改变了位置的资源时，通过服务器的反馈得知资源位置已经改变，随即浏览器就会访问改变后的资源位置，而不会引发404。

### 对搜索引擎爬虫影响

- 302重定向是暂时的重定向，搜索引擎会抓取新的内容而保存旧的网址。搜索引擎以为新的网址只是暂时的。
- 301重定向是永久的重定向，搜索引擎在抓取新内容的同时也将旧的网址交换为重定向之后的网址。

### 302的危害/风险

- URL劫持，恶意网站302到正常网站，会使搜索引擎爬虫认为恶意网站才是原始网站
- 搜索引擎降权，对企业/个人SEO造成影响

----

## cookie与session区别

### Cookie 主要用于以下三个方面：

- 1.会话状态管理（如用户登录状态、购物车、游戏分数或其它需要记录的信息）
- 2.个性化设置（如用户自定义设置、主题等）
- 3.浏览器行为跟踪（如跟踪分析用户行为等）

### 有效期

- cookie可以设置保存时间，会在有效期内一直保存；
- session是会话级别的，会话结束，session 也相应被清除

https://www.lmlphp.com/user/59649/article/item/2595036/